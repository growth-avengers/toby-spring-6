# section03. 테스트
수동테스트의 한계
* 프린트 메세지를 수동으로 확인하는 방법은 불편...
* 개발 한 다음에 테스트가 실패했을 때 확인할 코드가 많다...

=> 작은 크기의 자동 수행되는 테스트(Automated Test). 개발자가 만드는 테스트
* 개발한 코드에 대한 검증 기능을 코드로 작성
* 자동으로 테스트를 수행하고 결과를 확인
* 테스팅 프레임워크 활용
* 테스트 작성과 실행도 개발 과정의 일부

### JUnit 5
* @Test 테스트 메서드
* @BeforeEach : 테스트 실행 전 실행되는 메서드. 모든 테스트에 공통으로 수행되기 전 실행
* 테스트마다 새로운 인스턴스가 생성됨

### 테스트의 구성요소
PaymentService 테스트의 문제점
* 제어할 수 없는 외부 시스템에 문제 생겼을 때
* ExRateProvider가 제공하는 환율값으로 계산한것인지..
* 환율 유효시간 계산이 정확한것인지..
* 특정 서비스를 테스트 할 때 원치 않는 클래스까지 테스트하게 됨
  * 우리는 유닛테스트를 하고싶음ㅠ 테스트 대상 외의 협력자...는 나중에 테스트 하고시팓-> 의존중인 클래스를 **stub**으로 대체

stub?
* 의도하는 데이터를 반환하는 가짜 객체
  * imposter
* 테스트코드에서 제어
* = mock? mock이랑은 좀 다르다.

### 테스트와 DI
수동DI를 이용하는 테스트
* 테스트용 협력자(Collaborator, Stub)를 테스트 대상에 직접 주입하고 테스트
  * 이게 가능하면 이걸 해라
  * 테스트 대상이 다른 객체와 많이 협력해서 테스트하기 어려울 때는 스프링 DI 이용

스프링 DI를 이용하는 테스트
* ContextConfiguration
  * 테스트라는 컨텍스트에서 사용하는 구성정보
* Autowired
  * 의존관계를 자동으로 주입해줘
* ContextConfiguration 으로 스프링 구성정보를 이용해서 컨테이너를 만들고, Autowired로 자기가 가진 오브젝트 중 해당 타입의 컨테이너 오브젝트를 돌려줌

### 그 외 알게된거..
+) 자바에서는 자릿수 구분자로 _ 사용 가능 `ex) 5_000`
